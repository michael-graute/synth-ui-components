<nav class="navbar navbar-expand-lg bg-body-tertiary mb-4">
  <div class="container-fluid">
    <a class="navbar-brand" href="#"><span style="color: #8BC34A">BASIC</span>SYNTH</a>
    <div class="collapse navbar-collapse" id="navbarNavDropdown">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link" [ngClass]="{'active': page === 'main'}" (click)="page = 'main'" href="#">Main</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" [ngClass]="{'active': page === 'effects'}" (click)="page = 'effects'" href="#" >FX</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" [ngClass]="{'active': page === 'sequencer'}" (click)="page = 'sequencer'" href="#">Sequencer</a>
        </li>
      </ul>
    </div>
    <form class="d-flex">
      <button class="btn btn-primary" type="button" (click)="toggleMidiLearn()" [ngClass]="{'active': midiLearn}">Midi Learn</button>
    </form>
  </div>
</nav>
<div class="container" *ngIf="page === 'main'">
  <div class="row">
    <div class="col-4">
      <div class="card">
        <div class="card-header">
          Elements
        </div>
        <div class="card-body">
          <ins-divider label="Sliders" class="mt-0"></ins-divider>
          <div class="d-flex mb-3">
            <ins-slider label="Vol" [max]="20" [min]="0" [height]="250" [value]="12"></ins-slider>
            <ins-slider label="Mid" [max]="100" [min]="0" [height]="250" [(ngModel)]="foo"></ins-slider>
            <ins-slider label="Hi" [max]="20" [min]="0" [height]="250" [value]="8"></ins-slider>
            <ins-slider label="Lo" [max]="20" [min]="0" [height]="250" [value]="3"></ins-slider>
          </div>
          <ins-divider label="Knobs"></ins-divider>
          <div class="d-flex mb-3">
            <ins-knob [midiLearn]="midiLearn" [lfo]="true" [(ngModel)]="foo" label="size 80" [size]="80" baseColor="gray" [baseLineWidth]="8" [valueLineWidth]="5" valueColor="#00a4e1" [min]="0" [max]="100"></ins-knob>
            <ins-knob [midiLearn]="midiLearn" [(ngModel)]="bar" label="size 70" [size]="70" [min]="0" [max]="100"></ins-knob>
            <ins-knob [midiLearn]="midiLearn" label="size 60" [value]="9" [size]="60" (change)="onKnobChange($event)"></ins-knob>
            <ins-knob [midiLearn]="midiLearn" [lfo]="true" label="default" [value]="9" (change)="onKnobChange($event)"></ins-knob>
            <ins-knob [midiLearn]="midiLearn" label="Foo" [value]="20" [min]="-100" [max]="100" [size]="40" [step]="1" type="line"></ins-knob>
          </div>
          <div class="d-flex mb-3 gap-1">
            <ins-knob [value]="1" label="dotted" type="dot" [min]="-2" [max]="2" [step]="1" [midiLearn]="midiLearn"></ins-knob>
            <ins-knob [value]="0.3" label="fine" [min]="0.0" [max]="1.00" [step]=".01" [midiLearn]="midiLearn"></ins-knob>
            <ins-knob [value]="3" label="select" type="dot" [midiLearn]="midiLearn" [options]="['1n', '2n', '4n', '8n', '16n', '32n']"></ins-knob>
            <ins-panning-knob [size]="50" label="pan" [value]="pan" [(ngModel)]="pan" [min]="-100" [max]="100"></ins-panning-knob>
          </div>
          <ins-divider label="Misc"></ins-divider>
          <div class="d-flex mb-3 gap-3">
            <ins-switch label="Switch" onLabel="active" offLabel="off"></ins-switch>
            <ins-button-group label="Select Buttons" [options]="[{label: 'Foo', value: 'foo'}, {label: 'Bar', value: 'bar'}, {label: 'Baz', value: 'baz'}]" value="bar"></ins-button-group>
            <ins-waveform-select label="Waveform" value="sine"></ins-waveform-select>
          </div>
          <ins-divider label="ADSR - Envelope"></ins-divider>
          <ins-adsr-envelope [height]="50" [(ngModel)]="adsr"></ins-adsr-envelope>
        </div>
      </div>
    </div>
    <div class="col-4">
      <ins-oscillator [midiLearn]="midiLearn" [service]="synthService"></ins-oscillator>
    </div>
    <div class="col-4">
      <ins-lfo></ins-lfo>
      <ins-filter class="mt-3"></ins-filter>
      <!--<div class="card mt-3">
        <div class="card-header">
          Waveform
        </div>
        <div class="card-body">
          <ins-waveform-plotter></ins-waveform-plotter>
        </div>
      </div>-->
    </div>
  </div>
  <div class="row mt-4">
    <div class="col-12">
      <ins-sequencer [service]="synthService"></ins-sequencer>
    </div>
  </div>
</div>
<div class="container" *ngIf="page === 'effects'"></div>
<div class="container">
  <div class="row mt-4">
    <div class="col-12">
      <div class="card">
        <div class="card-header">
          Keyboard
        </div>
        <div class="card-body">
          <ins-keyboard [service]="synthService"></ins-keyboard>
        </div>
      </div>
    </div>
  </div>
</div>
